<%- console.log("‚úÖ LOADED hc-views/pages/contact.ejs") %>
<!-- contact.ejs gets loaded by hc-views/layout/main-loader.ejs -->
<!-- as < %- include("../pages/${sectionName}", locals) % > -->
<!-- where sectionName = "contact"  -->

<section
	id="contact-section"
	class="light-bar"
	style="background-position: center bottom"
>
	<div style="display: none">source file: hc-views/pages/contact.ejs</div>
	<div id="contact-form-container" class="section-container">
		<audio id="contact-send-sound" preload="auto">
			<source src="/hc-static-media/harp-gliss.mp3" type="audio/mpeg" />
		</audio>
		<div class="contact-form-intro font-5 font-light">
			We'd love to hear from you. Leave us a note. We here at
			<strong class="font-5 font-med"> HarmonyCue.com </strong>
			<!-- end font-weight-bold -->
			look forward to making your next performance spectacular. The sooner we get you started, the better. BTW, we'll never
			share your email with anyone else.
		</div>
		<div class="mb-3"></div>
		<div id="contact-callout" class="font-6">Contact Us</div>

		<% if (query && query.error === "botfail") { %>
			<div class="contact-form-error">‚ùå Bot check failed. Try again?</div>
		<% } else if (query && query.error === "missing") { %>
			<div class="contact-form-error">‚ùå Please fill in all fields.</div>
		<% } else if (query && query.error === "email") { %>
			<div class="contact-form-error">‚ùå Something went wrong sending your message. Please try again later.</div>
		<% } %>

		<form id="contact-form" action="/contact" method="POST">
			<div class="mb-3">
				<input type="text" name="address" class="hidden" tabindex="-1" autocomplete="off">
				<label for="email" id="contact-label-email" class="contact-form-label font-3">Your Email</label>
				<input
					type="email"
					class="contact-form-control font-4"
					name="email"
					id="contact-email"
					required
				/>
			</div>

			<div class="mb-3">
				<label for="message" id="contact-label-message" class="contact-form-label font-3">Your Message</label>
				<textarea
					class="contact-form-control font-4"
					name="message"
					id="contact-message"
					rows="5"
					required
				></textarea>
			</div>

			<div class="mb-3">
				<label id="contact-math-question-label font-3" for="math-answer" class="contact-form-label font-3">
					Anti-bot check: <span id="contact-math-question">Loading...</span>
				</label>
				<input
					type="text"
					class="contact-form-control font-4"
					name="mathAnswer"
					id="contact-math-answer"
					required
				/>
				<input type="hidden" name="correctAnswer" id="contact-correct-answer" />
			</div>

			<div class="contact-form-submit-row">
				<button type="submit" class="send-btn" aria-label="Send Message">
					<img
						class="send-btn-icon"
						src="/hc-static-images/hc-static-images-send-icon-fill.svg"
						alt="Send"
					/>
				</button>
			
				<% if (query && query.sent) { %>
					<div class="contact-form-confirmation">We got your message. üéµ</div>
				<% } %>
			</div>
			<div class="mb-3"></div>
		</form>
	</div>
</section>
